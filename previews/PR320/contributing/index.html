<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Contributing · OptimizationProblems.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OptimizationProblems.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OptimizationProblems.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../meta/">Problem classification</a></li><li><a class="tocitem" href="../benchmark/">Benchmark</a></li><li><a class="tocitem" href="../reference/">Reference</a></li><li class="is-active"><a class="tocitem" href>Contributing</a><ul class="internal"><li><a class="tocitem" href="#Bug-reports-and-discussions"><span>Bug reports and discussions</span></a></li><li><a class="tocitem" href="#Adding-new-problems"><span>Adding new problems</span></a></li><li><a class="tocitem" href="#Templates-for-the-new-functions"><span>Templates for the new functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Contributing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Contributing</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaSmoothOptimizers/OptimizationProblems.jl/blob/main/docs/src/contributing.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Contributing-to-OptimizationProblems.jl"><a class="docs-heading-anchor" href="#Contributing-to-OptimizationProblems.jl">Contributing to OptimizationProblems.jl</a><a id="Contributing-to-OptimizationProblems.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Contributing-to-OptimizationProblems.jl" title="Permalink"></a></h1><p>First off, thanks for taking the time to contribute!</p><h2 id="Bug-reports-and-discussions"><a class="docs-heading-anchor" href="#Bug-reports-and-discussions">Bug reports and discussions</a><a id="Bug-reports-and-discussions-1"></a><a class="docs-heading-anchor-permalink" href="#Bug-reports-and-discussions" title="Permalink"></a></h2><p>If you think you found a bug, feel free to open an <a href="https://github.com/JuliaSmoothOptimizers/OptimizationProblems.jl/issues">issue</a>. Focused suggestions and requests can also be opened as issues. Before opening a pull request, please start an issue or a discussion.</p><p>If you want to ask a question not suited for a bug report, feel free to start a discussion <a href="https://github.com/JuliaSmoothOptimizers/Organization/discussions">here</a>, a forum for general discussion about this repository and the <a href="https://github.com/JuliaSmoothOptimizers">JuliaSmoothOptimizers</a> organization. Discussions about any of our packages are welcome.</p><h2 id="Adding-new-problems"><a class="docs-heading-anchor" href="#Adding-new-problems">Adding new problems</a><a id="Adding-new-problems-1"></a><a class="docs-heading-anchor-permalink" href="#Adding-new-problems" title="Permalink"></a></h2><p>We welcome pull requests proposing new problems to the problem set. As a general guideline, a pull request should concern one problem only. We recommend checking existing problems as a template for your new problems.</p><p>Here is a to-do list, to help you add new problems:</p><ul><li>Before implementing a new problem, make sure it does not already exist in this repository.</li><li>This package contains implementations using <a href="https://github.com/jump-dev/JuMP.jl"><code>JuMP</code></a> and <a href="https://github.com/JuliaSmoothOptimizers/ADNLPModels.jl"><code>ADNLPModels</code></a>. A pull request should include both implementations of a new problem. Additionally, a &quot;meta&quot; provides general information regarding the problem. Therefore, a PR adding a new problem should contain 3 files:<ul><li><code>src/ADNLPProblems/problem_name.jl</code></li><li><code>src/PureJuMP/problem_name.jl</code></li><li><code>src/Meta/problem_name.jl</code></li></ul></li></ul><p>In both cases, the function must have the same name <code>problem_name</code> as the file.</p><ul><li>When submitting a problem, please pay particular attention to the documentation. We would like to gather as much information as possible on the provenance of problems, other problem sets where the problems are present, and general information on the problem. </li></ul><p>The documentation should be added to the file in the <code>PureJuMP</code> folder.</p><ul><li>New problems can be scalable, see <a href="https://github.com/JuliaSmoothOptimizers/OptimizationProblems.jl/blob/main/src/ADNLPProblems/arglina.jl">ADNLPProblems/arglina.jl</a> and <a href="https://github.com/JuliaSmoothOptimizers/OptimizationProblems.jl/blob/main/src/PureJuMP/arglina.jl">PureJuMP/arglina.jl</a> for examples. In that case, the first keyword parameter should be the number of variables <code>n::Int</code> and have the default value <code>default_nvar</code> (constant predefined in the module). If your problem has restrictions on the number of variables, e.g., <code>n</code> should be odd, or <code>n</code> should have the form <code>4k + 3</code>, then, instead of throwing errors when the restrictions are not satisfied, you should instead use the number of variables to be as close to <code>n</code> as possible. For example, if you want <code>n</code> odd and <code>n = 100</code> is passed, you can internally convert to <code>n = 99</code>. If you want <code>n = 4k + 3</code>, and <code>n = 100</code> is passed, then compute <code>k = round(Int, (n - 3) / 4)</code> and update <code>n</code>.</li><li>A first version of the <code>meta</code> can be generated using <code>generate_meta</code>. A <code>String</code> is returned that can be copy-pasted into the <code>Meta</code> folder, and then edited.</li></ul><pre><code class="language-julia hljs">    using ADNLPModels, NLPModels, NLPModelsJuMP, OptimizationProblems
    include(&quot;test/utils.jl&quot;)
    # there must exists a function `problem_name` which loads the model in the environment
    name = &quot;problem_name&quot;
    open(&quot;$name.jl&quot;, &quot;w&quot;) do io
      print(io, generate_meta(name))
    end</code></pre><ul><li>Problems modeled with <code>ADNLPModels</code> should be type-stable, i.e. they should all have keyword argument <code>type::Type{T} = Float64</code> where <code>T</code> is the type of the initial guess and the type used by the <code>NLPModel</code> API.</li></ul><h2 id="Templates-for-the-new-functions"><a class="docs-heading-anchor" href="#Templates-for-the-new-functions">Templates for the new functions</a><a id="Templates-for-the-new-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Templates-for-the-new-functions" title="Permalink"></a></h2><p>In order to standardize the new functions, we offer here a template for both AD and JuMP models.</p><p>First, we describe the <code>PureJuMP</code> file <code>function_name.jl</code>. This file contains the documentation on the problem.</p><pre><code class="nohighlight hljs"># Full name of the problem (while function_name could be an abbreviation)
#
# Source of the problem
# Don&#39;t hesitate to put more than one source if it is mentioned elsewhere
#
# CUTEst classification (if available)
#
# other information related to the problem
#

export function_name

&quot;A short docstring on the problem&quot;
function function_name(; n::Int = default_nvar, kwargs...)
  nlp = Model()
  # define the model: TODO
  return nlp
end</code></pre><p>Next, we describe the <code>ADNLPProblems</code> file <code>function_name.jl</code>.</p><pre><code class="nohighlight hljs">export function_name

function function_name(; n::Int = default_nvar, type::Type{T} = Float64, kwargs...) where {T} 
  # define f 
  # define x0
  # nlp = ADNLPModels.ADNLPModel(f, x0, name = &quot;function_name&quot;; kwargs...)
  return nlp
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reference/">« Reference</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 9 February 2024 12:36">Friday 9 February 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
